import type { JobParameters, JobId } from './JobParameters.js';
import type { SortDirection } from './DbOptions.js';
/**
 * Computed job states based on job timestamps.
 * These are derived from job data, not stored in the database.
 * 'paused' is based on the disabled field rather than timestamps.
 */
export type JobState = 'running' | 'scheduled' | 'queued' | 'completed' | 'failed' | 'repeating' | 'paused';
/**
 * Overview statistics for a single job name
 */
export interface JobsOverview {
    name: string;
    total: number;
    running: number;
    scheduled: number;
    queued: number;
    completed: number;
    failed: number;
    repeating: number;
    paused: number;
}
/**
 * Job with computed state
 */
export interface JobWithState<DATA = unknown> extends JobParameters<DATA> {
    _id: JobId;
    state: JobState;
}
/**
 * Sort options for job queries (database-agnostic)
 */
export interface JobsSort {
    nextRunAt?: SortDirection;
    lastRunAt?: SortDirection;
    lastFinishedAt?: SortDirection;
    priority?: SortDirection;
    name?: SortDirection;
    data?: SortDirection;
}
/**
 * Database-agnostic query options for jobs
 */
export interface JobsQueryOptions {
    /** Filter by job name */
    name?: string;
    /** Filter by job names (multiple) */
    names?: string[];
    /** Filter by computed state */
    state?: JobState;
    /** Filter by job ID */
    id?: string;
    /** Filter by job IDs (multiple) */
    ids?: string[];
    /** Text to search in job name */
    search?: string;
    /** Filter by job data (exact match or partial object match) */
    data?: unknown;
    /** Include disabled jobs (default: true) */
    includeDisabled?: boolean;
    /** Sort order */
    sort?: JobsSort;
    /** Number of jobs to skip (pagination) */
    skip?: number;
    /** Maximum number of jobs to return */
    limit?: number;
}
/**
 * Result of jobs query with state computation
 */
export interface JobsResult<DATA = unknown> {
    jobs: JobWithState<DATA>[];
    /** Total count (before pagination, after state filter) */
    total: number;
}
/**
 * Compute the state for a job based on its timestamps
 */
export declare function computeJobState(job: JobParameters, now?: Date): JobState;
